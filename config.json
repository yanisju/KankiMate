{
    "deck_name": "Test_kanjis",
    "model_name": "KankiMate_Model",
    "model_front": "<div class=\"wrap\">\n    <div class=\"sent-center\">\n        <div class=\"jpsentence\" lang=\"ja\">\n            {{edit:morphHighlight:furigana:SentKanji}}\n            {{^SentKanji}}\n            <nokana>{{edit:kanji:SentFurigana}}</nokana>\n            {{/SentKanji}}\n        </div>\n    </div>\n</div> <!-- /wrap -->\n\n<div style=\"display:none;\">\n    <div id=\"pitchnum_hidden\">{{VocabPitchNum}}</div>\n</div>\n\n<script>\n      function markPitch() {\n        let pitchNumber = document.getElementById(\"pitchnum_hidden\");\n        if (!pitchNumber) return;\n\n        pitchNumber = pitchNumber.innerHTML.match(/\\d/);\n        if (!pitchNumber) return;\n\n        pitchNumber = Number(pitchNumber);\n\n            let color;\n        if (pitchNumber === 0) {\n            color = \"#3366CC\";         } else if (pitchNumber === 1) {\n            color = \"red\";       } else {\n            color = odaka(pitchNumber) ? \"green\" : \"#ff6207\"; \n        }\n\n        paintTargetWord(color);\n    }\n\n    function paintTargetWord(color) {\n        document.querySelectorAll(\".jpsentence b\").forEach(word => {\n            word.style.color = color;\n        });\n    }\n\n    function odaka(pitch_num) {\n            const vocab_kana = document.getElementById(\"kanaword_hidden\");\n        if (!vocab_kana) return false;\n\n        const n_moras = vocab_kana.innerHTML.replace(/[ャュョゃゅょ]/g, \"\").length;\n        return n_moras === pitch_num;\n    }\n\n    markPitch();\n</script>",
    "model_back": "<div class=\"wrap\">\n    <div class=\"fside\">{{FrontSide}}</div>\n\n    <div class=\"sent-center\">\n        <div class=\"jpsentence\" lang=\"ja\">\n            {{edit:furigana:SentFurigana}}\n            {{^SentFurigana}}{{edit:furigana:SentKanji}}{{/SentFurigana}}\n        </div>\n        {{#SentEng}}\n        <div class=\"ensentence\" lang=\"en\">{{hint:SentEng}}</div>\n        {{/SentEng}}\n    </div>\n\n    <div class=\"vocab\">\n        {{VocabAudio}}{{SentAudio}}\n        <span>{{text:kana:VocabFurigana}}</span>\n        {{#VocabKanji}}【{{text:kanji:VocabKanji}}】{{/VocabKanji}}\n    </div>\n\n    {{#VocabDef}}\n    <div class=\"definitions\">{{edit:furigana:VocabDef}}</div>\n    {{/VocabDef}}\n\n    {{#Vocab2Furigana}}\n    <div class=\"vocab\">\n        <span>{{text:kana:Vocab2Furigana}}</span>\n        {{#Vocab2Kanji}}【{{text:kanji:Vocab2Kanji}}】{{/Vocab2Kanji}}\n    </div>\n    {{/Vocab2Furigana}}\n\n    {{#Vocab2Def}}\n    <div class=\"definitions\">{{edit:furigana:Vocab2Def}}</div>\n    {{/Vocab2Def}}\n\n    {{#Notes}}\n    <div class=\"notes\">\n        <div class=\"tags\">Notes</div>\n        <div>{{furigana:Notes}}</div>\n    </div>\n    {{/Notes}}\n\n    {{#Image}}\n    <div class=\"images\">{{Image}}</div>\n    {{/Image}}\n\n    <hr />\n\n    <footer>\n        {{#SentKanji}}\n        <a title=\"Translate with SimplyTranslate\"\n            href=\"https://translate.metalune.xyz/?engine=google&text={{text:kanji:SentKanji}}&sl=ja&tl=en\">Translate</a>\n        <a href=\"https://jisho.org/search?keyword={{text:kanji:SentKanji}}\" title=\"Sentence on Jisho\">Jisho</a>\n        <a href=\"https://www.google.co.jp/search?q={{text:kanji:SentKanji}}&tbm=isch\" title=\"Search images\">Images</a>\n        {{/SentKanji}}\n        \n        {{#VocabKanji}}\n        <a href=\"http://www.weblio.jp/content/{{text:VocabKanji}}\" title=\"Vocab on Weblio\">Weblio</a>\n        <a href=\"https://wadoku.de/search/?q={{text:VocabKanji}}\" title=\"Vocab on Wadoku\">Wadoku</a>\n        {{/VocabKanji}}\n    </footer>\n</div> <!-- /wrap -->\n\n<div style=\"display:none;\">\n    <div id=\"pitchnum_hidden\">{{VocabPitchNum}}</div>\n</div>\n\n<script>\n    function markPitch() {\n        let pitchNumber = document.getElementById(\"pitchnum_hidden\");\n        if (!pitchNumber) return;\n\n        pitchNumber = pitchNumber.innerHTML.match(/\\d/);\n        if (!pitchNumber) return;\n\n        pitchNumber = Number(pitchNumber);\n\n        let color;\n        if (pitchNumber === 0) {\n            color = \"#3366CC\"; // Bleu pour 平板\n        } else if (pitchNumber === 1) {\n            color = \"red\"; // Rouge pour 頭高\n        } else {\n            color = odaka(pitchNumber) ? \"green\" : \"#ff6207\"; // Vert pour 尾高, Orange pour 中高\n        }\n\n        paintTargetWord(color);\n    }\n\n    function paintTargetWord(color) {\n        document.querySelectorAll(\".jpsentence b\").forEach(word => {\n            word.style.color = color;\n        });\n    }\n\n    function odaka(pitch_num) {\n        const vocab_kana = document.getElementById(\"kanaword_hidden\");\n        if (!vocab_kana) return false;\n\n        const n_moras = vocab_kana.innerHTML.replace(/[ャュョゃゅょ]/g, \"\").length;\n        return n_moras === pitch_num;\n    }\n\n    function tweak_reveal_text() {\n        const elem = document.querySelector(\"div.ensentence > a.hint\");\n        if (elem) {\n            elem.innerText = \"Reveal English translation\";\n        }\n    }\n\n    markPitch();\n    tweak_reveal_text();\n</script>",
    "model_style": "@charset \"utf-8\";\n\n@media screen and (min-width: 900px) {\n    @font-face {\n        font-family: \"KanjiStrokeOrders\";\n        src: local(\"KanjiStrokeOrders\"), url(\"_kso.ttf\");\n    }\n\n    @font-face {\n        font-family: \"Yu Mincho\";\n        src: local(\"Yu Mincho\"), local(\"游明朝\"), url(\"_yumin.ttf\");\n        font-weight: normal;\n    }\n\n    @font-face {\n        font-family: \"Yu Mincho\";\n        src: local(\"Yu Mincho Demibold\"), local(\"游明朝 Demibold\"), url(\"_yumindb.ttf\");\n        font-weight: 600;\n    }\n\n    b {\n        font-weight: 600;\n    }\n}\n\n* {\n    box-sizing: border-box;\n    padding: 0;\n    margin: 0;\n}\n\n.card {\n    background-color: #fffaf0;\n    color: #2a1b0a;\n    font-family: \"Noto Serif\", \"Noto Serif CJK JP\", Yu Mincho, \"Liberation Serif\", \"Times New Roman\", Times, Georgia, Serif;\n    font-size: 24px;\n    text-align: left;\n    line-height: 1.4;\n    margin: 0 auto;\n}\n\n@media screen and (min-width: 820px) {\n    .card {\n        background-color: #e5d7c9;\n        display: flex;\n        justify-content: center;\n    }\n\n    .wrap {\n        width: 800px;\n        padding: 0 5px;\n        background-color: #fffaf0;\n        border-left: 1px solid #c9bcbc;\n        border-right: 1px solid #c9bcbc;\n        min-height: 100vh;\n    }\n}\n\nhr {\n    margin: 2px 0;\n    border: 0;\n    border-top: 1px solid #c9bcbc;\n}\n\n/* Links */\na {\n    color: #532f2f;\n}\n\na:hover {\n    color: #722a2a;\n}\n\na.hint {\n    text-decoration: none;\n    text-align: center;\n    display: block;\n}\n\n nokana ruby rt {\n    opacity: 0;\n    font-size: 0;\n    display: none;\n}\n\n/* Mise en page de la phrase japonaise */\n.sent-center {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column nowrap;\n}\n\n.jpsentence {\n    font-size: 35px;\n}\n\n/* Masquer la phrase japonaise du front lorsqu'on est sur le back */\n.fside .jpsentence {\n    display: none;\n}\n\n/* Anglais */\n.ensentence>a.hint {\n    color: #555;\n    font-size: 14px;\n    border: 1px solid #ccc;\n    border-radius: 2.2px;\n    padding: 2px 10px;\n    margin: 4px 0;\n}\n\n.ensentence>a.hint:hover {\n    color: #111;\n    background-color: rgba(0, 0, 0, 0.03);\n}\n\n/* Tags */\n.tags {\n    font-family: \"Noto Sans\", \"Noto Sans CJK JP\", \"Liberation Sans\", Arial, Sans, sans-serif;\n    text-align: center;\n    display: inline-block;\n    background-color: #333;\n    color: #fffaf0;\n    font-weight: bold;\n    padding: 1px 3px;\n    border-radius: 3px;\n    font-size: 12px;\n}\n\n/* Boutons de replay */\n.replaybutton span svg {\n    fill: #fffaf0;\n    background: #333;\n    border-radius: 3px;\n    min-width: 16px;\n    min-height: 16px;\n}\n\na.replay-button svg path {\n    fill: #fffaf0;\n}\n\na.replay-button svg circle {\n    fill: #333;\n}\n\n/* Footer */\nfooter {\n    font-size: 13px;\n    text-align: center;\n    padding: 12px 0;\n    background-color: #f6f6f6;\n    border-top: 1px solid #ddd;\n    font-family: sans-serif;\n}\n\nfooter a {\n    color: #212121;\n}\n\nfooter a:hover {\n    color: #a52a2a;\n}\n"
  }
  